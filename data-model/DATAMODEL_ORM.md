
<img src="https://img.shields.io/badge/schedule-10%25-orange.svg?style=for-the-badge&logo=appveyor"/>

### 数据模型  
*** 
#### 此章的目录
- [数据模型](#数据模型) 
    - [数据描述](#数据描述)  
        - [描述数据库结构信息](#描述数据库结构信息)
        - [如何使用 Schema 工具](#如何使用Schema工具)
    - [数据访问](#数据访问)
        - [简单、快捷、开箱即用的 ORM](#ORM)  [📃](DATAMODEL_ORM_zh-CN.md)
        - [数据库](#数据库)
        - [内存](#内存)
        - [文件](#文件)
    - [数据日志](#数据日志)
        - [数据变动记录](#数据变动)
        - [数据回退](#数据回退)

#### 数据描述  
<span id="数据描述"></span>

 混乱、无序的数据毫无意义，对数据的有效描述显得尤为关键,简单的例子,对于以下信息：  

  "sam1819941020"  

  你可以得到什么？如果我们将其组织后呢：  

  "sam 18 1994 10 20"  

  你是否感觉到它可能在表示一个人的信息？

  进一步组织，并添加对数据的描述后：  

  *Student*   
  Name : sam  
  Age:18  
  Born:1994-10-20  

  我们得到了一位学生的简单信息。很明显，在这个描述上下文中，诸如： "sam1819941020" 的数据是对于一位
  学生信息的简单表示。此处对数据的描述，赋予了数据此含义。

接下来我想引入名为 *Schema* 的概念，它表示对数据的描述信息，正如以上所示，有些数据需要进一步描述，才能在我们的使用环境中变得有意义。  

- 描述数据库结构信息
  
  在数据库系统中，我们原始的数据已经被做了大量的描述，相同的信息，存储在不同表中或者不同字段中其含义可能天差地别，这些表结构、字段结构、以及使用数据库的应用赋予了这些数据含义。  

  此段我们关注表结构、字段结构这些描述信息。  

  对于开发人员来说使用数据库中的数据是将信息从一种描述上下文下转移到到另一种描述上下文下的过程，此过程中数据的业务含义保持不变，但其他含义可能发生了变化，例如，结合最开始的示例，我们将学生信息存储到数据表中，它成为此表中的一条记录，而如果我们通过  *Student*  类的一个实例去表示它，它成为我们应用中的一个对象，此过程中其所属的描述上下文发生了变化，但因为我们的 *Schema* 在两个上下文中是相同的，所以信息的业务含义没有发生变化，始终表示学生的信息。  
  
  好了事情明了了起来，我们要将学生信息在 context-db、context-class 之间相互转换，需要有一个 *Schema* 信息辅助我们，使得转移后信息的含义保持不变，并且此 *Schema* 方便在两个上下文中实现。
  
  为此我已经做了一个工具从数据库中获取 *schema* 并将其转换至不同上下文中。您可以参考以下图示，并且在 [此处](https://github.com/DegageTech/Degage/tree/master/src/Degage.DataModel.Schema.Toolbox) 找到其代码，其所属与 *Degage.DataModel.sln*，工具具体的使用方式，请参考节: *"如何使用 Schema 工具"*。
  
<img src="pictrues/schema-toolbox/use-schema-toolbox-example.gif" />

其导出信息的结果如下：

<img src="pictrues/schema-toolbox/schema-toolbox-code-export-result-example.jpg" />

#### 数据访问
  - 统一的数据访问模型  
   我们希望以一种统一的格式去操作存储在数据库、内存、文件中的信息。对于使用者来说无需关心，数据存储介质的差异，始终以相同的代码去操作这些数据。  
   
 
  



